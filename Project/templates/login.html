{% extends "base.html" %}

{% block content %}

<br /><br />
<form action="/login" method="POST" class="shadow p-3 mb-5 bg-body rounded">
    <legend>Log In</legend>

    {{ form.hidden_tag() }}

    {{ form.email.label(class='form-label') }}
    {{ form.email(class="form-control",placeholder="someone@example.com") }}
    <br />

    {{ form.password.label(class='form-label') }}
    {{ form.password(class="form-control",id="password") }}
    <br>
    <div class="form-check">
        <input class="form-check-input" type="checkbox" value="" id="togglePassword">
        <label class="form-check-label" for="togglePassword">
            <p class="text-success">Show Password</p>
        </label>
    </div>

    {% for subfield in form.role %}
        {{ subfield }}
        {{ subfield.label }}
        <br/>
    {% endfor %}

    <br/>
    {{ form.remember_me.label(class='form-label') }}
    {{ form.remember_me() }}
    <br />

    {{ form.submit(class="btn btn-secondary", id="submit_tab")}}


</form>

<script>
    const togglePassword = document.querySelector('#togglePassword');
    const password = document.querySelector('#password');
    togglePassword.addEventListener('click', () => {
        // Toggle the type attribute using getAttribure() method
        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
        password.setAttribute('type', type);
    });
</script>

{% block extra_newline %}
<br /><br />
{% endblock %}
{% endblock %}